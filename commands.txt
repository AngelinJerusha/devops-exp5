PS C:\WINDOWS\system32> [Environment]::SetEnvironmentVariable("DOCKER_CLIENT_TIMEOUT", "300", "Machine")
PS C:\WINDOWS\system32> [Environment]::SetEnvironmentVariable("COMPOSE_HTTP_TIMEOUT", "300", "Machine")
PS C:\WINDOWS\system32> docker pull jenkins/jenkins:lts
PS C:\WINDOWS\system32> mkdir C:\jenkins_home
PS C:\WINDOWS\system32> icacls "C:\jenkins_home" /grant "Everyone:(OI)(CI)F" /T
PS C:\WINDOWS\system32> docker run -d --name jenkins -p 8080:8080 -p 50000:50000 -v jenkins_home:/var/jenkins_home -v /var/run/docker.sock:/var/run/docker.sock -v /usr/bin/docker:/usr/bin/docker:ro jenkins/jenkins:lts
PS C:\WINDOWS\system32> docker ps
PS C:\WINDOWS\system32> docker exec -it jenkins cat /var/jenkins_home/secrets/initialAdminPassword
http://localhost:8080
enter the password from terminal
install the needed pluggins
create account
dashboard - create - pipeline - ok
scroll down to pipeline section and enter the below code

pipeline {
    agent any

    stages {
        stage('Generate Website') {
            steps {
                echo 'Creating static website files...'
                sh '''
                mkdir -p website
                echo "<html><head><title>My Static Site</title></head><body><h1>Welcome to My Jenkins Website!</h1><p>This page was generated by a Jenkins pipeline running inside Docker.</p></body></html>" > website/index.html
                '''
            }
        }

        stage('Archive Website') {
            steps {
                echo 'Archiving static website files...'
                archiveArtifacts artifacts: 'website/**/*', fingerprint: true
            }
        }
    }

    post {
        success {
            echo ' Website generated and archived successfully!'
        }
        failure {
            echo ' Pipeline failed. Check console logs.'
        }
    }
}




Step 1: Install Plugin

Go to Manage Jenkins → Plugins → Available plugins

Search for “HTML Publisher Plugin”

Install it (no restart needed)



pipeline {
    agent any

    stages {
        stage('Generate Website') {
            steps {
                echo 'Creating static website files...'
                sh '''
                mkdir -p website
                echo "<html><head><title>My Static Site</title></head><body><h1>Welcome to My Jenkins Website!</h1><p>This page was generated by a Jenkins pipeline running inside Docker.</p></body></html>" > website/index.html
                '''
            }
        }

        stage('Archive Website') {
            steps {
                echo 'Archiving static website files...'
                archiveArtifacts artifacts: 'website/**/*', fingerprint: true
            }
        }

        stage('Publish Website') {
            steps {
                echo 'Publishing website to Jenkins dashboard...'
                publishHTML(target: [
                    allowMissing: false,
                    alwaysLinkToLastBuild: true,
                    keepAll: true,
                    reportDir: 'website',
                    reportFiles: 'index.html',
                    reportName: 'Static Website'
                ])
            }
        }
    }

    post {
        success {
            echo ' Website generated and published successfully!'
        }
        failure {
            echo ' Pipeline failed. Check console logs.'
        }
    }
}


